<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Mr. Lynch's Super Secret Code Generator</title>
  <meta name="description" content="Mr. Lynch's Super Secret Code Generator">
  <meta name="author" content="Vlad">
</head>
<body>
  <p>Text:</p>
  <textarea id="text"></textarea><br />
  <p>Date:</p>
  <input type="datetime-local" id="date" step="1"></input><button id="setcurrent">Set to current time</button><br />
  <p>Person:</p>
  <input type="text" id="username"></input><button id="setrandom">Set to random person</button><br /><br />
  <button type="submit" id="submit">Generate</button>
  <p id="output"></p>
  <script>
  // autocomplete
        var first = ["klynch@mtps.us", "25bondarv@mtps.us", "25steenem@mtps.us", "25clarka@mtps.us", "25edwardsj@mtps.us", "25bronsteinl@mtps.us", "25hagana@mtps.us", "25hogant@mtps.us", "25mieskolainena@mtps.us", "25meintelp@mtps.us", "25manerig@mtps.us", "25boylea@mtps.us", "25rinesb@mtps.us", "25byrd-leitnerc@mtps.us", "25goettlej@mtps.us", "25byrd-leitnerh@mtps.us", "25gilhoolf@mtps.us", "25caulderc@mtps.us"];
        var sec = ["25rabinowitzr@mtps.us", "25doand@mtps.us", "25fegleyz@mtps.us", "25wattala@mtps.us", "25adelia@mtps.us", "25trakisj@mtps.us", "25agarwald@mtps.us", "25grossmana@mtps.us", "25giannettoc@mtps.us", "25mansukanij@mtps.us", "25sumersona@mtps.us", "25fordi@mtps.us", "25zhengs@mtps.us", "25mannn@mtps.us", "25lopkob@mtps.us", "25meccia@mtps.us", "25rothenbergd@mtps.us", "25butanid@mtps.us", "25milsteadd@mtps.us", "25moyerl@mtps.us", "25salmonss@mtps.us", "25suchinc@mtps.us", "25cappsd@mtps.us", "25morenom@mtps.us"];
        var fifth = ["student-m@mtps.us", "25damianl@mtps.us", "25delcontej@mtps.us", "25dellarosam@mtps.us", "25diabj@mtps.us", "25dowlingells@mtps.us", "25eldredr@mtps.us", "25joycem@mtps.us", "25lir@mtps.us", "25mcbridej@mtps.us", "25murphym@mtps.us", "25nguyenc@mtps.us", "25pettorinig@mtps.us", "25reehc@mtps.us", "25richardsb@mtps.us", "25seibelm@mtps.us", "25shuberts@mtps.us", "25smithl@mtps.us", "25stiersm@mtps.us", "25taklar@mtps.us", "25vosbikianj@mtps.us", "25wilsonb@mtps.us", "25beerleya@mtps.us"];
        var sev = [ "25millert@mtps.us", "25jerrellt@mtps.us", "25macaluson@mtps.us", "25hoggl@mtps.us", "25denglerl@mtps.us", "25babicim@mtps.us", "25mcgeet@mtps.us", "25cardh@mtps.us", "25wangt@mtps.us", "25hillmane@mtps.us", "25fazlerw@mtps.us", "25halla@mtps.us", "25gheysensm@mtps.us", "25riveracanedox@mtps.us", "25perryd@mtps.us", "25hagemanc@mtps.us", "25russc@mtps.us", "25muindic@mtps.us", "25pellota@mtps.us", "25cardosom@mtps.us", "25coutinhoy@mtps.us", "25reyherl@mtps.us"];
        var eigth = ["25brooksem@mtps.us", "25browns@mtps.us", "25corganhaagl@mtps.us", "25crowb@mtps.us", "25delaneyc@mtps.us", "25ernstj@mtps.us", "25ferrainof@mtps.us", "25greenleafj@mtps.us", "25holmqvistg@mtps.us", "25keoughw@mtps.us", "25krisandab@mtps.us", "25leathj@mtps.us", "25maguirem@mtps.us", "25mendysb@mtps.us", "25mergenthals@mtps.us", "25palermoj@mtps.us", "25panjarlac@mtps.us", "25petroccog@mtps.us", "25reyesn@mtps.us", "25sajousm@mtps.us", "25sapnasa@mtps.us", "25thorslandc@mtps.us", ];
    var availableTags = [...first, ...sec, ...fifth, ...sev, ...eigth];
  $( function() {
    $( "#username" ).autocomplete({
      source: availableTags
    });
  } );
  </script>
  <script>
  // onclick handle
  document.getElementById("submit").onclick = () => {
    // get defaults
    let text = document.getElementById("text").value
    let date = (new Date(document.getElementById("date").value)).getTime()
    let person = document.getElementById("username").value
    // scrub date
    date = date + Math.round(Math.random() * 1000)
    const outtext = text + ":" + date + ":" + person
    console.log(outtext, btoa(outtext))
    document.getElementById("output").innerHTML = btoa(outtext)
  }
  document.getElementById("setcurrent").onclick = () => {
    const x = new Date()
    document.getElementById("date").value = `${x.getFullYear()}-${(x.getMonth() + 1).toString().padStart(2, 0)}-${x.getDate().toString().padStart(2, 0)}T${x.getHours().toString().padStart(2, 0)}:${x.getMinutes().toString().padStart(2, 0)}:${x.getSeconds().toString().padStart(2, 0)}`;
  }
  document.getElementById("setrandom").onclick = () => {
    document.getElementById("username").value = availableTags[Math.floor(Math.random() * availableTags.length)];
  }
  </script>
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</body>
</html>
